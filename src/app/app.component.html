<div class="app-container min-h-screen flex flex-col bg-surface">
  <mat-sidenav-container class="flex-1 flex flex-col">
    <!-- Sidebar -->
    <mat-sidenav #drawer [mode]="isDesktop() ? 'side' : 'over'" [opened]="isDesktop() && sidebarOpen()"
      class="bg-surface-container">
      <!-- Rimuovo la classe w-64 e lascio che i CSS gestiscano la larghezza -->
      <!-- Mostra la sidebar solo se l'utente Ã¨ autenticato -->
      @if (authService.currentUser()) {
      <app-sidebar (menuItemClick)="toggleSidebar()"></app-sidebar>
      }
    </mat-sidenav>

    <!-- Main Content -->
    <mat-sidenav-content class="flex flex-col flex-1">
      <!-- Header -->
      <app-header [sidebarOpen]="sidebarOpen()" (toggleSidebar)="toggleSidebar()" (menuClick)="drawer.toggle()">
      </app-header>

      <!-- Page Content -->
      <main class="flex-1 p-4 md:p-6 bg-surface">
        <div class="max-w-7xl mx-auto">
          <router-outlet></router-outlet>
        </div>
      </main>

      <!-- Footer -->
      <app-footer></app-footer>
    </mat-sidenav-content>
  </mat-sidenav-container>

</div>